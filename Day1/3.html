<!DOCTYPE html>
<html lang="en">

    <head>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>重构html2</title>
    </head>

    <body>
        <div id="root"></div>
        <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
        <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
        <script src="https://unpkg.com/babel-standalone@6/babel.min.js"></script>

        <script type="text/babel">
            // const root = ReactDOM.createRoot(document.querySelector("#root"))
            // let message = "Hello world"
            // function btnClick() {
            //     message = "Hello Richard"
            //     rootRender()
            // }
            // function rootRender() {
            //     root.render((
            //         <div>
            //             <h2>{message}</h2>
            //             <button onClick={btnClick}>修改文本</button>
            //         </div>
            //     ))
            // }
            // rootRender()

            // 使用组件进行重构代码
            // 使用组件重构代码

            // 组件分为两种，类组件和函数组件
            class App extends React.Component {
                // 组件数据
                constructor() {
                    super()
                    this.state = {
                        message: "Hello World",
                        age: 16,
                        name: "richard"
                    }
                    // 对需要绑定的方法提前绑定好this
                    this.btnClick = this.btnClick.bind(this)
                }
                // this的4种绑定规则
                // 1.默认绑定,独立执行foo()
                // 2.隐士绑定 被一个对象执行  obj.foo()
                // 3.显示绑定:call/apply/bind foo.call
                // 4.new绑定 new foo()

                // 组件方法
                btnClick() {
                    // console.log(this);
                    this.setState({
                        message: "Hello React"
                    })
                }

                // 渲染render方法
                render() {
                    return (
                        <div>
                            <h2>{this.state.message}</h2>
                            <button onClick={this.btnClick}>修改文本</button>
                        </div>
                    )
                    //    组件数据可以分为两类
                    // 1.参与界面更新的数据
                    // 参与更新的数据
                    // 2.不参与界面更新的数据
                }
            }

            // 将组件渲染到界面上
            const root = ReactDOM.createRoot(document.querySelector("#root"))
            root.render(<App />)




        </script>
    </body>

</html>